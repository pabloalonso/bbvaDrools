{"designerVersion":"1.2.9","id":"customCargandoNocaso","name":"cargandoNocaso","lastUpdate":1526824038021,"template":"<div ng-show=\"pendientes > 0 && properties.mostrar\">\n    <span class=\"glyphicon glyphicon-refresh glyphicon-refresh-animate\"></span> {{ properties.label }}\n</div>","controller":"/**\r\n * Widget que verifica si hay peticiones XHR en curso.\r\n */\r\nfunction loadingCtrl($scope, $http) {\r\n    $scope.pendientes = 1 ; \r\n    if($scope.pendientes > 0 ){\r\n        $scope.$watch( function (){ \r\n            //alert('Bandera A ' + $http.pendingRequests.length);\r\n            return $http.pendingRequests.length;\r\n            \r\n        } , function() {\r\n            //alert('Bandera B ' + $http.pendingRequests.length);\r\n            $scope.pendientes = $http.pendingRequests.length;\r\n            $scope.properties.variable = $scope.pendientes === 0;\r\n        });\r\n    }\r\n    \r\n        \r\n}","custom":true,"properties":[{"label":"Etiqueta","name":"label","type":"text","defaultValue":"Cargando...","bond":"expression"},{"label":"Variable de retorno","name":"variable","type":"text","bond":"variable"},{"label":"Activado","name":"mostrar","type":"boolean","defaultValue":true,"bond":"expression"},{"label":"variableWatch","name":"variableWatch","help":"variableWatch","type":"text","bond":"variable"}],"assets":[{"id":"a19fd7c3-fea9-408e-83e9-4776aba87265","name":"refresh.css","type":"css","order":1,"external":false}],"type":"widget"}