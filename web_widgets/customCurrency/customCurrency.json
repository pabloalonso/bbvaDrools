{"designerVersion":"1.2.19","id":"customCurrency","name":"Currency","lastUpdate":1524069169162,"template":"<div ng-init=\"init()\" class=\"custom-currency-container\" ng-class=\"{\n    'form-horizontal': properties.labelPosition === 'left' && !properties.labelHidden,\n    'row': properties.labelPosition === 'top' && !properties.labelHidden || properties.labelHidden\n    }\">\n     <div class=\"form-group input-group col-xs-{{ 12 - (!properties.labelHidden && properties.labelPosition === 'left' ? properties.labelWidth : 0) }}\">\n\t <span class=\"has-float-label\">\n\t <span class=\"glyphicon form-control-feedback\">{{properties.symbol}}</span>\n        <input  class=\"form-control\"\n                type=\"text\"\n                id=\"{{ctrl.name}}\"\n                name=\"{{properties.name}}\" \n                placeholder=\" \"\n                ng-class=\"{'has-errors': hasErrors()}\"\n                ng-disabled=\"properties.disabled\"\n                ng-max-number=\"properties.max\"\n                ng-min-number=\"properties.min\"\n                ng-maxlength=\"properties.maxlength\"\n                ng-minlength=\"properties.minlength\"\n                ng-readonly=\"properties.readonly\"\n                ng-required=\"properties.required\"\n                ng-model=\"localValue\"\n                ng-currency-format>\n\t\t\t\t\n\t\t\t\t<label for=\"{{ctrl.name}}\" class=\"pb-currency col-xs-{{ !properties.labelHidden && properties.labelPosition === 'left' ? properties.labelWidth : 12 }}\" ng-class=\"{'has-errors': hasErrors()}\">{{properties.label}}<span ng-show=\"properties.required\" class=\"required\"></span></label>\n\t\t\t\t\n\t\t</span>\n    </div>\n    <ul class=\"input-errors-list\" ng-show=\"hasErrors()\">\n        <li ng-show=\"inputErrors().email\">Debe ingresar una dirección de correo electronico válida (ej: usuario@dominio.com)</li>            \n        <li ng-show=\"inputErrors().required\">El campo es obligatorio</li>\n        <li ng-show=\"inputErrors().max\">El valor del campo debe ser menor a {{properties.max}}</li>\n        <li ng-show=\"inputErrors().min\">El valor del campo debe ser mayor a {{properties.min}}</li>\n        <li ng-show=\"inputErrors().maxlength\">El largo del campo debe ser menor a {{properties.maxlength}}</li>\n        <li ng-show=\"inputErrors().minlength\">El largo del campo debe ser mayor a {{properties.minlength}}</li>\n        <li ng-show=\"inputErrors().pattern\">El contenido del campo no cohincide con el patrón '{{properties.pattern}}'</li>\n        <li ng-show=\"inputErrors().url\">Debe ingresar una URL válida (ej: http://www.dominio.com)</li>\n    </ul>\n</div>","controller":"function ($scope, $filter, $timeout, widgetNameFactory) {\n    var ctrl = this;\n    \n    $scope.inputErrors = function() {\n        if($scope.$eval(\"$form.\" + $scope.$eval(\"properties.name\") + \".$dirty\")) {\n            return  $scope.$eval(\"$form.\" + $scope.$eval(\"properties.name\") + \".$error\");\n        }\n        \n        return {};\n    }\n    \n    $scope.$watch('properties.value', function(newValue, oldValue) {\n        $scope.localValue = $.number($scope.properties.value, 2, ',', '.');\n        if($scope.properties.value < 0){\n            $scope.properties.value = $scope.properties.value * -1;\n        }\n    });\n    \n    $scope.hasErrors = function() {\n        return Object.keys($scope.inputErrors()).length > 0;\n    }\n    this.name = widgetNameFactory.getName('pbCurrency');\n} \n","description":"","custom":true,"properties":[{"label":"Nombre","name":"name","type":"text","bond":"expression"},{"label":"Etiqueta","name":"label","type":"text","bond":"expression"},{"label":"Desactivado","name":"disabled","type":"boolean","bond":"expression"},{"label":"Valor máximo","name":"max","type":"integer","bond":"expression"},{"label":"Valor minimo","name":"min","type":"integer","bond":"expression"},{"label":"Largo máximo","name":"maxlength","type":"integer","bond":"expression"},{"label":"Largo minimo","name":"minlength","type":"integer","bond":"expression"},{"label":"Solo lectura","name":"readonly","type":"boolean","bond":"expression"},{"label":"Requerido","name":"required","type":"boolean","bond":"expression"},{"label":"Valor","name":"value","type":"text","bond":"variable"},{"label":"Placehoder","name":"placeholder","type":"text","bond":"expression"},{"label":"Símbolo de moneda","name":"symbol","type":"text","defaultValue":"$","bond":"expression"}],"assets":[{"id":"8f10f85d-a298-44d7-ada7-6ed311e3adf3","name":"jquery.number.js","type":"js","order":28,"external":false},{"id":"7993166d-bdc2-44d4-930f-a83ce8fc673f","name":"currencyModule.js","type":"js","order":51,"external":false},{"id":"3d4bec8f-7fbe-46c9-8b45-d55c816282c5","name":"currencyStyles.css","type":"css","order":7,"external":false},{"id":"7ed9430b-2ed1-43d3-9b88-c4aeb059d9dd","name":"jquery-3.1.1.min.js","type":"js","order":2,"external":false},{"id":"82898c93-4e9a-4aa6-97f6-dca04801b458","name":"js-currency-id.js","type":"js","order":52,"external":false}],"requiredModules":["currencyModule"],"type":"widget"}