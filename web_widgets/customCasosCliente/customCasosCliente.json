{"designerVersion":"1.2.19","id":"customCasosCliente","name":"CasosCliente","lastUpdate":1523036258875,"template":"<div ng-init=\"getCasosCliente()\" class=\"panel panel-info\">\n    <div class=\"panel-heading\">\n        Busqueda de casos del cliente: <span ng-if=\"properties.nombreCliente\">{{ properties.nombreCliente }} - </span>{{ properties.cedulaCliente }} \n        <button\n\t\t\t\t\t\tng-class=\"'btn btn-default'\"\n\t\t\t\t\t\tng-click=\"getCasosCliente()\"\n\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\tstyle=\"float:center; border:none;align:rigth\"\n\t\t\t\t\t\tng-disabled=\"properties.cedulaCliente==''\">\n\t\t\t\t\t\tBuscar <span class=\"glyphicon glyphicon-zoom-in\"></span>\n\t\t\t\t\t</button>\n    </div>\n    \n    <div class=\"panel-body\">\n        <table class=\"table table-bordered\">\n            <thead>\n                <tr>\n                    <td>ID Caso de negocio</td>\n                    <td>ID Caso bonita</td>\n                </tr>\n            </thead>\n            \n            <tbody ng-if=\"casosCliente.length > 0\">\n                <tr ng-repeat=\"caso in casosCliente\">\n                    <td>{{ caso.idCasoNegocio }}</td> \n                    <td>{{ caso.idCasoBonita }}</td> \n                </tr>\n            </tbody>\n            \n            <tbody ng-if=\"casosCliente.length <= 0\">\n                <tr>\n                    <td colspan=\"2\">\n                        No existen casos para el cliente\n                    </td>\n                </tr>\n            </tbody>\n        </table>\n    </div>\n</div>\n","controller":"\nfunction ($scope, $http) {\n    \n    $scope.getCasosCliente = function() {\n        $http.get($scope.properties.dbAccessURL + '/businessData/com.trycore.bbva.dbaccess.bdm.cpn.CasoCliente/findByQuery/obtenerCasosClientePorCedula?p=0&c=1000&f=cedulaCliente=' + $scope.properties.cedulaCliente)\n        \n        .then(function(result) {\n            $scope.casosCliente = result.data;\n        })\n        \n        .catch(function(error) {\n           //alert('Error recuperando los casos del cliente'); \n        });\n    };\n      \n  \n}","custom":true,"properties":[{"label":"CÃ©dula del cliente","name":"cedulaCliente","type":"text","bond":"expression"},{"label":"Nombre del cliente","name":"nombreCliente","type":"text","bond":"expression"},{"label":"URL servicio de BD","name":"dbAccessURL","type":"text","bond":"expression"}],"assets":[],"type":"widget"}