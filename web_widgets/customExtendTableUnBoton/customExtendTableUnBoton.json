{"designerVersion":"1.4.34","id":"customExtendTableUnBoton","name":"extendTableUnBoton","lastUpdate":1525450227831,"template":"<div class=\"table-responsive\">\n    <table class=\"table table-striped\" ng-class=\"{'table-hover': ctrl.isClickable()}\">\n        <thead>\n            <tr>\n                <th ng-repeat=\"header in properties.headers\">\n                    {{ header | uiTranslate }}\n                </th>\n                <th></th>\n                \n            </tr>\n        </thead>\n        <tbody ng-if=\"ctrl.isArray(properties.content) && ctrl.isArray(properties.columnsKey)\">\n            <tr ng-repeat=\"row in properties.content\" ng-click=\"ctrl.selectRow(row)\" ng-class=\"{'info': ctrl.isSelected(row)}\">\n                <td ng-repeat=\"column in properties.columnsKey track by $index\">\n                    {{ $eval(column, row) | uiTranslate }}\n                </td>\n                <td><button type=\"button\" ng-class=\"'btn btn-' + properties.buttonStyleRigth\"\n                ng-click=\"ctrl.addFlagTrue(row)\"><span ng-class=\"properties.icon\"></span></button></td>\n            </tr>\n        </tbody>\n        <tbody ng-if=\"ctrl.isArray(properties.content) && !ctrl.isArray(properties.columnsKey)\">\n            <tr ng-repeat=\"row in properties.content\" ng-click=\"ctrl.selectRow(row)\" ng-class=\"{'info': ctrl.isSelected(row)}\">\n                <td> {{ row | uiTranslate }} </td>\n            </tr>\n        </tbody>\n    </table>\n</div>\n","icon":"<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 50 20'><g><path fill='#CBD5E1' d='M36,15v2h11v-2H36z M40,10v2h7v-2H40z M11,10v2h14v-2H11z M3,10v2h3v-2H3z M11,15v2h17v-2H11z M3,15v2h3 v-2H3z'/><path fill='#fff' d='M1,19V1h48v18H1z M0,0v20h50V0H0z'/><path fill='#CBD5E1' d='M1,7v1h7v11h1V8h22v11h1V8h17V7H32V1h-1v6H9V1H8v6H1z'/><path fill='#fff' d='M35,3h12v2H35V3z M11,3h13v2H11V3z M3,3h3v2H3V3z'/></g></svg>","controller":"function PbTableCtrl($scope) {\r\n\r\n  this.isArray = Array.isArray;\r\n\r\n  this.isClickable = function () {\r\n    return $scope.properties.isBound('selectedRow');\r\n  };\r\n\r\n  this.selectRow = function (row) {\r\n    if (this.isClickable()) {\r\n      $scope.properties.selectedRow = row;\r\n    }\r\n  };\r\nthis.addFlagTrue = function (row) {\r\n    if (this.isClickable()) {\r\n      $scope.properties.resultado = true;\r\n    }\r\n  };\r\n\r\n\r\n  this.removeFromCollection = function(row) {\r\n    if ($scope.properties.content) {\r\n      \r\n      if (!Array.isArray($scope.properties.content)) {\r\n        throw 'Collection property for widget button should be an array, but was ' + $scope.properties.content;\r\n      }\r\n\r\n      var index = -1;\r\n      index = $scope.properties.content.indexOf(row);\r\n      console.log(index);\r\n      // Only remove element for valid index\r\n      if (index !== -1) {\r\n        $scope.properties.content.splice(index, 1);\r\n      }\r\n    }\r\n  };\r\n  \r\n  \r\n\r\n  this.isSelected = function(row) {\r\n    return angular.equals(row, $scope.properties.selectedRow);\r\n  }\r\n}\r\n","description":"Tabular presentation of data from an array","custom":true,"order":15,"properties":[{"label":"Headers","name":"headers","caption":"Comma-separated list","help":"If you specify an expression, the result must be an array of strings","type":"collection","defaultValue":["Id","Name","Description","Date"],"bond":"expression"},{"label":"Content","name":"content","help":"Array used to populate the table. Can be a list of objects. Use 'Column keys' to refine content","type":"collection","bond":"expression"},{"label":"Column keys","name":"columnsKey","caption":"Comma-separated list","help":"When 'Content' is a list of objects, specifies the attributes to display in the table columns","type":"collection","bond":"expression"},{"label":"Selected Row","name":"selectedRow","type":"text","bond":"variable"},{"label":"StyleButtonRigth","name":"buttonStyleRigth","type":"choice","defaultValue":"success","choiceValues":["default","primary","success","info","warning","danger","link"],"bond":"constant"},{"label":"resultado","name":"resultado","type":"text","bond":"variable"},{"label":"Icono","name":"icon","caption":"glyphicon glyphicon-asterisk","help":"iconos de bootstrap del tipo glyphicon glyphicon-asterisk","type":"text","bond":"constant"}],"assets":[],"type":"widget"}