{"designerVersion":"1.2.9","id":"customTestModal","name":"testModal","lastUpdate":1526824038093,"template":"<div class=\"container\">\n<!-- Modal -->\n  <div class=\"modal fade\" id=\"myModal\" role=\"dialog\" data-keyboard=\"false\" data-backdrop=\"static\" data-toggle=\"modal\">\n    <div class=\"modal-dialog modal-sm\">\n      <!-- Modal content-->\n      <div class=\"modal-content\">\n        <div class=\"modal-header\">\n          <!--button type=\"button\" class=\"close\" data-dismiss=\"modal\">&times;</button-->\n          <h4 class=\"modal-title\">{{ properties.title }}</h4>\n        </div>\n        <div class=\"modal-body\">\n          <p><span class=\"glyphicon glyphicon-refresh glyphicon-refresh-animate\"></span> {{ properties.body }}</p>\n        </div>\n        <!--div class=\"modal-footer\">\n          <button type=\"button\" class=\"btn btn-default\" data-dismiss=\"modal\">Close</button>\n        </div-->\n      </div>\n      \n    </div>\n  </div>\n  \n</div>","controller":"function modalCtrl($scope) {\n    $scope.mostrado = false;\n    $scope.$watch('properties.mostrar', function() {\n        var m = ($(\"#myModal\").data('bs.modal') || {isShown: false}).isShown;\n        if($scope.properties.mostrar && !m && !$scope.mostrado) {\n            $('#myModal').modal({backdrop: 'static', keyboard: false});\n            $scope.mostrado = true;\n        } else {\n            try {\n                //if ($scope.mostrado) {\n                    $('#myModal').modal('hide');\n                //}\n            } catch (err) {\n                console.log(\"Hubo un error desconocido.\");\n                console.log(err);\n            }\n        }\n    }, true);\n    /** Así estaba antes\n    $('#myModal').on('shown.bs.modal', function (e) {\n        $scope.mostrado = true;\n    });\n    $('#myModal').on('hidden.bs.modal', function (e) {\n        $scope.mostrado = false;\n    });*/\n    /*$scope.$watch('mostrado', function() {\n        if ($scope.mostrado) {\n            if(!$scope.properties.mostrar) {\n                try {\n                    $('#myModal').modal('hide');\n                } catch (err) {\n                    console.log(\"Ya está escondido\");\n                }\n            }\n        }\n    }, true);*/\n}","custom":true,"properties":[{"label":"Variable","name":"mostrar","type":"boolean","defaultValue":false,"bond":"expression"},{"label":"Texto","name":"body","type":"text","bond":"expression"},{"label":"Título","name":"title","type":"text","bond":"expression"}],"assets":[{"id":"fd18892d-eac3-4051-b0a5-908d6d789b34","name":"bootstrap.min.css","type":"css","order":1,"external":false},{"id":"9fdd9c44-1329-48c0-a968-ddd1bd01c91b","name":"jquery-1.11.3.min.js","type":"js","order":2,"external":false},{"id":"1d584691-455b-4b74-a4b4-c2cdb755c151","name":"bootstrap.min.js","type":"js","order":3,"external":false},{"id":"e4e270c4-a886-4b07-93d6-d6dfe3ae1094","name":"refresh.css","type":"css","order":4,"external":false}],"type":"widget"}